{"ast":null,"code":"var _jsxFileName = \"/home/ankit/Desktop/Ankit/May/may-10/Stackoverflow-Clone-Frontend/src/pages/QuestionsPage/QuestionsPage.component.jsx\",\n    _s = $RefreshSig$();\n\nimport React, { Fragment, useEffect, useState } from 'react';\nimport { useLocation } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport PropTypes from 'prop-types';\nimport { getPosts } from '../../redux/posts/posts.actions';\nimport handleSorting from '../../services/handleSorting';\nimport LinkButton from '../../components/LinkButton/LinkButton.component';\nimport PostItem from '../../components/PostItem/PostItem.component';\nimport Spinner from '../../components/Spinner/Spinner.component';\nimport ButtonGroup from '../../components/ButtonGroup/ButtonGroup.component';\nimport SearchBox from '../../components/SearchBox/SearchBox.component';\nimport PageTitle from '../../components/PageTitle/PageTitle.component';\nimport Pagination from \"../../components/Pagination/Pagination.component\";\nimport './QuestionsPage.styles.scss';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst itemsPerPage = 10;\n\nconst QuestionsPage = _ref => {\n  _s();\n\n  var _posts$filter;\n\n  let {\n    getPosts,\n    post: {\n      posts,\n      loading\n    }\n  } = _ref;\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n  const [page, setPage] = useState(1);\n  const [sortType, setSortType] = useState('Newest');\n  let searchQuery = new URLSearchParams(useLocation().search).get('search');\n\n  const handlePaginationChange = (e, value) => setPage(value);\n\n  return loading || posts === null ? /*#__PURE__*/_jsxDEV(Spinner, {\n    type: \"page\",\n    width: \"75px\",\n    height: \"200px\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this) : /*#__PURE__*/_jsxDEV(Fragment, {\n    children: [searchQuery ? /*#__PURE__*/_jsxDEV(PageTitle, {\n      title: `Search Results for ${searchQuery} - CLONE Stack Overflow`\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 9\n    }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n      id: \"mainbar\",\n      className: \"questions-page fc-black-800\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"questions-grid\",\n        children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n          className: \"questions-headline\",\n          children: searchQuery ? 'Search Results' : 'All Questions'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 45,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"questions-btn\",\n          children: /*#__PURE__*/_jsxDEV(LinkButton, {\n            text: 'Ask Question',\n            link: '/add/question',\n            type: 's-btn__primary'\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 49,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 9\n      }, this), searchQuery ? /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"search-questions\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#acb2b8',\n            fontSize: '12px'\n          },\n          children: [\"Results for \", searchQuery]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SearchBox, {\n          placeholder: 'Search...',\n          name: 'search',\n          pt: 'mt8'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 57,\n        columnNumber: 11\n      }, this) : '', /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"questions-tabs\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [new Intl.NumberFormat('en-IN').format(posts.length), \" questions\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(ButtonGroup, {\n          buttons: ['Newest', 'Top', 'Views', 'Oldest'],\n          selected: sortType,\n          setSelected: setSortType\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 70,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"questions\",\n        children: (_posts$filter = posts.filter(post => post.title.toLowerCase().includes(searchQuery ? searchQuery : ''))) === null || _posts$filter === void 0 ? void 0 : _posts$filter.sort(handleSorting(sortType)).slice((page - 1) * itemsPerPage, (page - 1) * itemsPerPage + itemsPerPage).map((post, index) => /*#__PURE__*/_jsxDEV(PostItem, {\n          post: post\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Pagination, {\n        page: page,\n        itemList: posts.filter(post => post.title.toLowerCase().includes(searchQuery ? searchQuery : '')),\n        itemsPerPage: itemsPerPage,\n        handlePaginationChange: handlePaginationChange\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 35,\n    columnNumber: 5\n  }, this);\n};\n\n_s(QuestionsPage, \"/w91y05vpKSPyCy3Fs6C4O5J3mw=\", false, function () {\n  return [useLocation];\n});\n\n_c = QuestionsPage;\nQuestionsPage.propTypes = {\n  getPosts: PropTypes.func.isRequired,\n  post: PropTypes.object.isRequired\n};\n\nconst mapStateToProps = state => ({\n  post: state.post\n});\n\nexport default connect(mapStateToProps, {\n  getPosts\n})(QuestionsPage);\n\nvar _c;\n\n$RefreshReg$(_c, \"QuestionsPage\");","map":{"version":3,"sources":["/home/ankit/Desktop/Ankit/May/may-10/Stackoverflow-Clone-Frontend/src/pages/QuestionsPage/QuestionsPage.component.jsx"],"names":["React","Fragment","useEffect","useState","useLocation","connect","PropTypes","getPosts","handleSorting","LinkButton","PostItem","Spinner","ButtonGroup","SearchBox","PageTitle","Pagination","itemsPerPage","QuestionsPage","post","posts","loading","page","setPage","sortType","setSortType","searchQuery","URLSearchParams","search","get","handlePaginationChange","e","value","color","fontSize","Intl","NumberFormat","format","length","filter","title","toLowerCase","includes","sort","slice","map","index","propTypes","func","isRequired","object","mapStateToProps","state"],"mappings":"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","sourcesContent":["import React, {Fragment, useEffect, useState} from 'react';\nimport {useLocation} from 'react-router-dom';\nimport {connect} from 'react-redux';\nimport PropTypes from 'prop-types';\nimport {getPosts} from '../../redux/posts/posts.actions';\nimport handleSorting from '../../services/handleSorting';\n\nimport LinkButton from '../../components/LinkButton/LinkButton.component';\nimport PostItem from '../../components/PostItem/PostItem.component';\nimport Spinner from '../../components/Spinner/Spinner.component';\nimport ButtonGroup from '../../components/ButtonGroup/ButtonGroup.component';\nimport SearchBox from '../../components/SearchBox/SearchBox.component';\nimport PageTitle from '../../components/PageTitle/PageTitle.component';\nimport Pagination from \"../../components/Pagination/Pagination.component\";\n\nimport './QuestionsPage.styles.scss';\n\nconst itemsPerPage = 10;\n\nconst QuestionsPage = ({getPosts, post: {posts, loading}}) => {\n  useEffect(() => {\n    getPosts();\n  }, [getPosts]);\n\n  const [page, setPage] = useState(1);\n  const [sortType, setSortType] = useState('Newest');\n\n  let searchQuery = new URLSearchParams(useLocation().search).get('search');\n\n  const handlePaginationChange = (e, value) => setPage(value);\n\n  return loading || posts === null ? (\n    <Spinner type='page' width='75px' height='200px' />\n  ) : (\n    <Fragment>\n      {searchQuery ? (\n        <PageTitle\n          title={`Search Results for ${searchQuery} - CLONE Stack Overflow`}\n        />\n      ) : (\n        ''\n      )}\n      <div id='mainbar' className='questions-page fc-black-800'>\n        <div className='questions-grid'>\n          <h3 className='questions-headline'>\n            {searchQuery ? 'Search Results' : 'All Questions'}\n          </h3>\n          <div className='questions-btn'>\n            <LinkButton\n              text={'Ask Question'}\n              link={'/add/question'}\n              type={'s-btn__primary'}\n            />\n          </div>\n        </div>\n        {searchQuery ? (\n          <div className='search-questions'>\n            <span style={{color: '#acb2b8', fontSize: '12px'}}>\n              Results for {searchQuery}\n            </span>\n            <SearchBox placeholder={'Search...'} name={'search'} pt={'mt8'} />\n          </div>\n        ) : (\n          ''\n        )}\n        <div className='questions-tabs'>\n          <span>\n            {new Intl.NumberFormat('en-IN').format(posts.length)} questions\n          </span>\n          <ButtonGroup\n            buttons={['Newest', 'Top', 'Views', 'Oldest']}\n            selected={sortType}\n            setSelected={setSortType}\n          />\n        </div>\n        <div className='questions'>\n          {posts\n            .filter((post) => post.title.toLowerCase().includes(searchQuery ? searchQuery : ''))\n            ?.sort(handleSorting(sortType))\n            .slice((page - 1) * itemsPerPage, (page - 1) * itemsPerPage + itemsPerPage)\n            .map((post, index) => (\n              <PostItem key={index} post={post} />\n            ))}\n        </div>\n        <Pagination\n          page={page}\n          itemList={posts.filter((post) => post.title.toLowerCase().includes(searchQuery ? searchQuery : ''))}\n          itemsPerPage={itemsPerPage}\n          handlePaginationChange={handlePaginationChange}\n        />\n      </div>\n    </Fragment>\n  );\n};\n\nQuestionsPage.propTypes = {\n  getPosts: PropTypes.func.isRequired,\n  post: PropTypes.object.isRequired,\n};\n\nconst mapStateToProps = (state) => ({\n  post: state.post,\n});\n\nexport default connect(mapStateToProps, {getPosts})(QuestionsPage);\n"]},"metadata":{},"sourceType":"module"}